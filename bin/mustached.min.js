(function(){var a;a=function(){function a(a){this.el=a}return a.prototype.get=function(){var a;return a=this.el.value,this.isOkayUrl(a)?a:!1},a.prototype.isOkayUrl=function(a){var b,c,d;return b=/\s/g,c=/\.([a-z]{0,1}||[a-z]{5,})\/?$/,d=/^(http|https|ftp)\:\/{2}/,0===a.length?!1:b.test(a)?!1:c.test(a)?!1:d.test(a)===!1?!1:!0},a}(),this.UrlField=a}).call(this),function(){var a,b,c,d,e,f,g;a="http://www.mstch.me/",g=new UrlField($("#urlfield")[0]),f=$("#shorten")[0],e=function(a){return $.ajax({url:"js/server.js",type:"POST",data:{url:a},success:function(a){var b;return b=$.parseJSON(a),b.hashedUrl?d(b.hashedUrl):b.error?c(b.error):void 0}})},d=function(c){var d;return d='<a href="/'+c+'" >'+a+c+"</a>",b("shortenedUrl",d)},c=function(a){var c;return c="<p>"+a+"</p>",b("error",c)},b=function(a,b){var c;return c=$('<div id="'+a(0/0)),c.html(b),$("body").append(c)},f.onclick=function(a){var b;return a.preventDefault(),b=g.get(),b===!1?alert("Not a good a url :("):e(b)}}.call(this);